<!--
============================================
; Title:  lintel-exercise-8.4.html
; Author: Professor Krasso
; Date:   27 January 2020
; Description: Demonstrates the use of jQuery
;===========================================
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <link rel="stylesheet" href="../site.css">

  <style type="text/css">
    #employee tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>
<body>

<div id="emps"></div>

<script type="text/javascript">

  var employee = {
    id: 0,
    firstName: "",
    lastName: "",
    title: ""
  };

  var employees = [
    new Employee (135, "Randy", "Randallman", "Architect"),
    new Employee (248, "Amy", "Wong", "Web Developer"),
    new Employee (347, "Roger", "Ericson", "UX Lead"),
    new Employee (491, "Emily", "Brown", "Database Administrator"),
    new Employee (519, "Arthur", "Green", "Scrum Master")
  ];

  function Employee(id, firstName, lastName, title) {
    this.id = id;
    this.firstName = firstName;
    this.lastName = lastName;
    this.title = title;
  }

  function getEmployee(id) {
    employees.forEach(emp => {
      if (emp.id == id) {
        alert(
        `Id: ${emp.id}
        First Name: ${emp.firstName}
        Last Name: ${emp.lastName}
        Title: ${emp.title}`);
      }
      return;
    });
    return;
  }

  //initial variable to hold tags for table
  var output = "<table id='employee'><thead><th>ID</th><th>First Name</th><th>Last Name</th><th>Title</th></thead><tbody>"

  //add dynamic html interating over employees array
  employees.forEach(emp => {
    output += "<tr><td>" + emp.id + "</td><td>" + emp.firstName + "</td><td>" + emp.lastName + "</td><td>" + emp.title + "</td?</tr>"
  });

  //add closing tags for table
  output += "</tbody></table>"

  //actually add output to page

  document.getElementById("emps").innerHTML = output;

  // jQuery onClick event
  // Don't remove this, just add your code to the body of the event (curly braces)
  $(function () {
    $("table tr").click(function () {
      var chosenID = $(this).find("td:first").html();
      getEmployee(chosenID);
    });
  });
</script>
</body>
</html>
